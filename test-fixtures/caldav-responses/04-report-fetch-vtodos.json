{
  "step": "04-report-fetch-vtodos",
  "description": "Fetch all VTODOs from calendar",
  "timestamp": "2026-01-15T10:00:00.000Z",
  "request": {
    "method": "REPORT",
    "url": "https://caldav.example.com/dav/calendars/user/user@example.com/CAL-VTODO-001/",
    "headers": {
      "Authorization": "Basic <REDACTED>",
      "Content-Type": "application/xml; charset=utf-8",
      "Depth": "1"
    },
    "body": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<c:calendar-query xmlns:d=\"DAV:\" xmlns:c=\"urn:ietf:params:xml:ns:caldav\">\n  <d:prop>\n    <d:getetag />\n    <c:calendar-data />\n  </d:prop>\n  <c:filter>\n    <c:comp-filter name=\"VCALENDAR\">\n      <c:comp-filter name=\"VTODO\" />\n    </c:comp-filter>\n  </c:filter>\n</c:calendar-query>"
  },
  "response": {
    "status": 207,
    "headers": {
      "connection": "keep-alive",
      "content-type": "application/xml; charset=utf-8",
      "date": "Wed, 11 Feb 2026 21:48:24 GMT",
      "server": "nginx",
      "transfer-encoding": "chunked",
      "vary": "Accept-Encoding, Brief, Prefer"
    },
    "body": "<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<d:multistatus xmlns:d=\"DAV:\" xmlns:c=\"urn:ietf:params:xml:ns:caldav\">\n  <d:response>\n    <d:href>/dav/calendars/user/user@example.com/CAL-VTODO-001/task-simple-001.ics</d:href>\n    <d:propstat>\n      <d:prop>\n        <d:getetag>\"30c67cb46f9a3a2d210e9f674b5740f5fba50d65\"</d:getetag>\n        <c:calendar-data><![CDATA[BEGIN:VCALENDAR\r\nVERSION:2.0\r\nPRODID:DAVx5/4.5.7.1-gplay ical4j/3.2.19 (org.tasks)\r\nBEGIN:VTODO\r\nDTSTAMP:20260103T042219Z\r\nUID:task-simple-001\r\nSEQUENCE:1\r\nCREATED:20260103T031117Z\r\nLAST-MODIFIED:20260103T041637Z\r\nSUMMARY:Buy groceries\r\nPRIORITY:5\r\nSTATUS:COMPLETED\r\nRELATED-TO;RELTYPE=PARENT:task-parent-001\r\nCOMPLETED:20260103T041536Z\r\nPERCENT-COMPLETE:100\r\nEND:VTODO\r\nEND:VCALENDAR\r\n]]></c:calendar-data>\n      </d:prop>\n      <d:status>HTTP/1.1 200 OK</d:status>\n    </d:propstat>\n  \n  </d:response>\n  <d:response>\n    <d:href>/dav/calendars/user/user@example.com/CAL-VTODO-001/task-with-desc-001.ics</d:href>\n    <d:propstat>\n      <d:prop>\n        <d:getetag>\"553ee4d5417711f76d510b6f79f0c61a6d39ae33\"</d:getetag>\n        <c:calendar-data><![CDATA[BEGIN:VCALENDAR\r\nCALSCALE:GREGORIAN\r\nPRODID:-//Apple Inc.//iOS 15.6.1//EN\r\nVERSION:2.0\r\nBEGIN:VTODO\r\nCOMPLETED:20251202T100934Z\r\nCREATED:20251117T200352Z\r\nDTSTAMP:20260210T030143Z\r\nDTSTART;VALUE=DATE:20251118\r\nDUE;VALUE=DATE:20251118\r\nLAST-MODIFIED:20251202T100959Z\r\nPERCENT-COMPLETE:100\r\nPRIORITY:5\r\nSEQUENCE:2\r\nSTATUS:COMPLETED\r\nSUMMARY:Plan quarterly report\\, share findings with \r\n team\r\nUID:task-with-desc-001\r\nX-APPLE-SORT-ORDER:7\r\nBEGIN:VALARM\r\nACTION:DISPLAY\r\nDESCRIPTION:Reminder\r\nTRIGGER:PT0S\r\nUID:ALARM-001\r\nX-WR-ALARMUID:ALARM-001\r\nEND:VALARM\r\nEND:VTODO\r\nEND:VCALENDAR\r\n]]></c:calendar-data>\n      </d:prop>\n      <d:status>HTTP/1.1 200 OK</d:status>\n    </d:propstat>\n  \n  </d:response>\n  <d:response>\n    <d:href>/dav/calendars/user/user@example.com/CAL-VTODO-001/task-with-cats-001.ics</d:href>\n    <d:propstat>\n      <d:prop>\n        <d:getetag>\"e0fd5ea2858588e9f8b359620dc9cd1ced2cb0f1\"</d:getetag>\n        <c:calendar-data><![CDATA[BEGIN:VCALENDAR\r\nVERSION:2.0\r\nPRODID:-//Obsidian//Tasks CalDAV Sync//EN\r\nBEGIN:VTODO\r\nUID:task-with-cats-001\r\nDTSTAMP:20260210T033635Z\r\nLAST-MODIFIED:20260210T033635Z\r\nSUMMARY:Install new software ✅ 2025-10-23\r\nSTATUS:COMPLETED\r\nCOMPLETED:20251115T000000Z\r\nPERCENT-COMPLETE:100\r\nPRIORITY:5\r\nCATEGORIES:sync\r\nEND:VTODO\r\nEND:VCALENDAR\r\n]]></c:calendar-data>\n      </d:prop>\n      <d:status>HTTP/1.1 200 OK</d:status>\n    </d:propstat>\n  \n  </d:response>\n  <d:response>\n    <d:href>/dav/calendars/user/user@example.com/CAL-VTODO-001/obsidian-20251107-e03.ics</d:href>\n    <d:propstat>\n      <d:prop>\n        <d:getetag>\"e79dffb702461b04babda24c64007606b11fe76a\"</d:getetag>\n        <c:calendar-data><![CDATA[BEGIN:VCALENDAR\r\nVERSION:2.0\r\nPRODID:-//Obsidian//Tasks CalDAV Sync//EN\r\nBEGIN:VTODO\r\nUID:obsidian-20251107-e03\r\nDTSTAMP:20260210T033636Z\r\nLAST-MODIFIED:20260210T033636Z\r\nSUMMARY:Pick up package ✅ 2025-08-14 ✅ 2025-11-14\r\nSTATUS:COMPLETED\r\nCOMPLETED:20251115T000000Z\r\nPERCENT-COMPLETE:100\r\nPRIORITY:5\r\nCATEGORIES:sync\r\nEND:VTODO\r\nEND:VCALENDAR\r\n]]></c:calendar-data>\n      </d:prop>\n      <d:status>HTTP/1.1 200 OK</d:status>\n    </d:propstat>\n  \n  </d:response>\n  <d:response>\n    <d:href>/dav/calendars/user/user@example.com/CAL-VTODO-001/task-recurring-001.ics</d:href>\n    <d:propstat>\n      <d:prop>\n        <d:getetag>\"b5858e76fbf248489726a6a20844a5dd3322fe8f\"</d:getetag>\n        <c:calendar-data><![CDATA[BEGIN:VCALENDAR\r\nVERSION:2.0\r\nPRODID:DAVx5/4.5.9-gplay ical4j/3.2.19 (org.tasks)\r\nBEGIN:VTIMEZONE\r\nTZID:Pacific/Auckland\r\nBEGIN:STANDARD\r\nTZNAME:NZST\r\nTZOFFSETFROM:+1300\r\nTZOFFSETTO:+1200\r\nDTSTART:20080406T030000\r\nRRULE:FREQ=YEARLY;BYMONTH=4;BYDAY=1SU\r\nEND:STANDARD\r\nBEGIN:DAYLIGHT\r\nTZNAME:NZDT\r\nTZOFFSETFROM:+1200\r\nTZOFFSETTO:+1300\r\nDTSTART:20070930T020000\r\nRRULE:FREQ=YEARLY;BYMONTH=9;BYDAY=-1SU\r\nEND:DAYLIGHT\r\nEND:VTIMEZONE\r\nBEGIN:VTODO\r\nDTSTAMP:20260211T210555Z\r\nUID:task-recurring-001\r\nSEQUENCE:3\r\nCREATED:20260210T030935Z\r\nLAST-MODIFIED:20260211T210554Z\r\nSUMMARY:Morning exercise\r\nPRIORITY:1\r\nSTATUS:NEEDS-ACTION\r\nRRULE:FREQ=DAILY\r\nX-APPLE-SORT-ORDER:0\r\nDUE;TZID=Pacific/Auckland:20260214T060001\r\nDTSTART;TZID=Pacific/Auckland:20260214T000000\r\nBEGIN:VALARM\r\nTRIGGER;RELATED=END:PT0S\r\nACTION:DISPLAY\r\nDESCRIPTION:Default Tasks.org description\r\nEND:VALARM\r\nEND:VTODO\r\nEND:VCALENDAR\r\n]]></c:calendar-data>\n      </d:prop>\n      <d:status>HTTP/1.1 200 OK</d:status>\n    </d:propstat>\n  \n  </d:response>\n  <d:response>\n    <d:href>/dav/calendars/user/user@example.com/CAL-VTODO-001/task-active-001.ics</d:href>\n    <d:propstat>\n      <d:prop>\n        <d:getetag>\"049bbb0b027aef77d0325e93a16a8917633dcf67\"</d:getetag>\n        <c:calendar-data><![CDATA[BEGIN:VCALENDAR\r\nVERSION:2.0\r\nPRODID:DAVx5/4.5.9-gplay ical4j/3.2.19 (org.tasks)\r\nBEGIN:VTODO\r\nDTSTAMP:20260211T211429Z\r\nUID:task-active-001\r\nCREATED:20260211T211429Z\r\nLAST-MODIFIED:20260211T211429Z\r\nSUMMARY:New task\r\nPRIORITY:9\r\nSTATUS:NEEDS-ACTION\r\nCATEGORIES:sync\r\nX-APPLE-SORT-ORDER:-3\r\nDTSTART;VALUE=DATE:20260212\r\nEND:VTODO\r\nEND:VCALENDAR\r\n]]></c:calendar-data>\n      </d:prop>\n      <d:status>HTTP/1.1 200 OK</d:status>\n    </d:propstat>\n  \n  </d:response>\n  <d:response>\n    <d:href>/dav/calendars/user/user@example.com/CAL-VTODO-001/existing-task-001.ics</d:href>\n    <d:propstat>\n      <d:prop>\n        <d:getetag>\"a441c54e0b3d49e6aee21b76f2bd53c53ec4582a\"</d:getetag>\n        <c:calendar-data><![CDATA[BEGIN:VCALENDAR\r\nVERSION:2.0\r\nPRODID:DAVx5/4.5.9-gplay ical4j/3.2.19 (org.tasks)\r\nBEGIN:VTODO\r\nDTSTAMP:20260211T214802Z\r\nUID:existing-task-001\r\nCREATED:20260211T214730Z\r\nLAST-MODIFIED:20260211T214730Z\r\nSUMMARY:DUMP-existing-task\r\nPRIORITY:9\r\nSTATUS:NEEDS-ACTION\r\nRRULE:FREQ=DAILY\r\nCATEGORIES:sync\r\nX-APPLE-SORT-ORDER:-4\r\nDUE;VALUE=DATE:20260215\r\nDTSTART;VALUE=DATE:20260214\r\nBEGIN:VALARM\r\nTRIGGER;RELATED=END:PT0S\r\nACTION:DISPLAY\r\nDESCRIPTION:Default Tasks.org description\r\nEND:VALARM\r\nEND:VTODO\r\nEND:VCALENDAR\r\n]]></c:calendar-data>\n      </d:prop>\n      <d:status>HTTP/1.1 200 OK</d:status>\n    </d:propstat>\n  \n  </d:response>\n</d:multistatus>\n"
  }
}